{
  "metrics": {
    "version": "1.0.0",
    "collectionInterval": "5min"
  },
  "leanKPIs": {
    "cycleTime": {
      "target": 2,
      "unit": "days",
      "warningThreshold": 2.5,
      "criticalThreshold": 3
    },
    "defectEscapeRate": {
      "target": 5,
      "unit": "percent",
      "warningThreshold": 8,
      "criticalThreshold": 10
    },
    "tokenCostPerStory": {
      "target": 0.10,
      "unit": "USD",
      "warningThreshold": 0.15,
      "criticalThreshold": 0.20
    },
    "teamWIP": {
      "target": 3,
      "unit": "stories",
      "warningThreshold": 4,
      "criticalThreshold": 5
    }
  },
  "resourceMetrics": {
    "tokenUsage": {
      "trackBy": ["agent", "story", "day"],
      "aggregations": ["sum", "avg", "max"]
    },
    "apiLatency": {
      "trackBy": ["endpoint", "agent"],
      "aggregations": ["p50", "p95", "p99"]
    },
    "errorRate": {
      "trackBy": ["agent", "errorType"],
      "alertThreshold": 5
    }
  },
  "dashboards": {
    "overview": {
      "panels": [
        "kpi-summary",
        "wip-status",
        "cycle-time-trend",
        "cost-breakdown"
      ]
    },
    "agents": {
      "panels": [
        "token-usage-by-agent",
        "task-completion-rate",
        "error-frequency"
      ]
    },
    "quality": {
      "panels": [
        "test-coverage-trend",
        "defect-rate-trend",
        "security-scan-results"
      ]
    }
  },
  "alerts": {
    "wipViolation": {
      "condition": "column.wip > column.limit",
      "severity": "warning",
      "notify": ["operations-coach"]
    },
    "cycleTimeExceeded": {
      "condition": "story.cycleTime > 3",
      "severity": "warning",
      "notify": ["operations-coach", "agentic-architect"]
    },
    "costOverrun": {
      "condition": "story.tokenCost > 0.20",
      "severity": "alert",
      "notify": ["operations-coach", "prompt-engineer"]
    },
    "qualityGateFailed": {
      "condition": "qa.testsFailed || qa.coverageDropped",
      "severity": "critical",
      "notify": ["all"],
      "action": "stop-the-line"
    }
  }
}
